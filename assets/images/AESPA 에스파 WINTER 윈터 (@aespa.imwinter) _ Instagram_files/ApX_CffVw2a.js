;/*FB_PKG_DELIM*/

__d("PolarisIGCoreCirclePlayPanoIcon",["PolarisIGCoreSVGIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.6 0 12 0zm5 13.3-6.8 3.9c-.2.1-.5.2-.8.2s-.4-.1-.6-.2c-.5-.3-.8-.7-.8-1.3V8.1c0-.5.3-1 .8-1.3.5-.3 1-.3 1.5 0l6.8 3.9c.5.3.8.8.8 1.3s-.4 1-.9 1.3z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("XPolarisDirectEphemeralMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/direct/ephemeral_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("IGDEphemeralButton.react",["IGDSBox.react","IGDSText.react","MWPChatEphemeralButton.bs","PolarisIGCoreCirclePlayPanoIcon","XPolarisDirectEphemeralMediaControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.attachment,d=a.connectBottom,e=a.connectTop,f=a.outgoing;return h.jsx(c("MWPChatEphemeralButton.bs"),{attachment:b,backgroundColor:"rgb(var(--ig-highlight-background))",buildURL:function(a){return c("XPolarisDirectEphemeralMediaControllerRouteBuilder").buildURL(a)},connectBottom:d,connectTop:e,outgoing:f,renderContent:function(a,b,d,e){a=f||b==="expired"?"ig-stroke":b==="unseen"?"ig-primary-button":"ig-primary-text";d=f||b==="expired";return h.jsxs(c("IGDSBox.react"),{direction:"row",children:[h.jsx(c("IGDSBox.react"),{marginEnd:2,children:h.jsx(c("PolarisIGCoreCirclePlayPanoIcon"),{alt:(b=e)!=null?b:"",color:a,size:16})}),h.jsx(c("IGDSBox.react"),{justifyContent:"center",children:h.jsx(c("IGDSText.react"),{color:d?"tertiaryText":"primaryText",size:"body",weight:"semibold",children:e})})]})},shouldDisableOnOutgoing:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAttachmentSecure.react",["CometPlaceholder.react","I64","IGDAttachmentAudioPlayer.react","IGDAttachmentUtil","IGDChatImage.react","IGDChatVideo.react","IGDEphemeralButton.react","IGDPlaceholderMessage.react","IGDSticker.react","IGDXMAAttachment.react","LSIntEnum","MAWAttachmentBlob.react","MAWMsg","MAWSecurePlaceholder.react","MessagingAttachmentType","RavenMessagingState","cr:4394","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.attachmentType,f=a.connectBottom,g=a.connectTop,i=a.formatText,j=a.hasText,k=a.message,l=a.outgoing;e!=null?a=d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||d("I64").equal(e,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)):a=!1;if(d("I64").equal(k.displayedContentTypes,d("LSIntEnum").ofNumber(256)))return null;e=a||d("MAWMsg").isMediaMsg(k)||d("MAWMsg").isXMAMsg(k);return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:e?b("cr:4394")==null?h.jsx(c("MAWSecurePlaceholder.react"),{message:k}):h.jsx(b("cr:4394").make,{connectTop:g,message:k,renderAudioAttachment:function(a){return h.jsx(c("IGDAttachmentAudioPlayer.react"),{attachment:a,isSecure:!0,outgoing:l})},renderEphemeralMediaAttachment:function(a){var b=a.ephemeralMediaState;if(b!=null)if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("RavenMessagingState").PERMANENT)))return h.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:f,connectTop:g,isSecure:!0,message:k,outgoing:l});else return h.jsx(c("IGDEphemeralButton.react"),{attachment:a,connectBottom:f,connectTop:g,outgoing:l});else return null},renderImageAttachment:function(a){return h.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:f,connectTop:g,isSecure:!0,message:k,outgoing:l})},renderStickerAttachment:function(a){return h.jsx(c("IGDSticker.react"),{attachment:a,isSecure:!0})},renderVideoAttachment:function(a){return h.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:g,isSecure:!0,message:k,outgoing:l})},renderXMAAttachment:function(a){if(d("IGDAttachmentUtil").isUnsupportedXma(a))return h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,outgoing:l});else if(a.playableUrlMimeType==="image/gif")return h.jsx(c("IGDSticker.react"),{attachment:a});else return h.jsx(c("IGDXMAAttachment.react"),{attachment:a,connectBottom:f,connectTop:g,formatText:i,getHeaderImageUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header")},getPreviewImageUrlXMA:function(a,b){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},hasText:j,isSecure:!0,message:k,outgoing:l})}}):h.jsx(c("MAWSecurePlaceholder.react"),{message:k})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDE2EEAttributionThreadContextBanner.react",["fbt","CometLink.react","IGDSBox.react","IGDSLockFilledIcon","IGDSText.react","XInstagramHelpDotComContentControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginBottom:"x1iymm2a",$$css:!0},linkMargin:{marginStart:"xsgj6o6",$$css:!0},text:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}},k=h._("__JHASH__B_F6DFujXgX__JHASH__"),l=h._("__JHASH__RV-kQJWBDXB__JHASH__"),m=h._("__JHASH__4Vv_6Y5N66l__JHASH__");function a(){var a;a=(a=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString();return i.jsxs(c("IGDSBox.react"),{alignItems:"center",color:"secondaryBackground",direction:"column",marginTop:4,paddingX:4,paddingY:3,width:445,xstyle:j.container,children:[i.jsxs(c("IGDSBox.react"),{direction:"row",children:[i.jsx(c("IGDSBox.react"),{marginEnd:2,children:i.jsx(c("IGDSLockFilledIcon"),{alt:k,color:"ig-primary-text","data-testid":void 0,size:8})}),i.jsx(c("IGDSText.react"),{size:"body",weight:"medium",children:l})]}),i.jsx(c("IGDSBox.react"),{direction:"row",marginTop:2,xstyle:j.text,children:i.jsxs(c("IGDSText.react").Body2,{color:"secondaryText",children:[k,i.jsx(c("CometLink.react"),{href:a,target:"_blank",xstyle:j.linkMargin,children:m})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPIsContextBannerDisabled.bs",["LSIntEnum","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(47),a)}g.isContextBannerDisabled=a}),98);
__d("MWPThreadContextBanner.react",["LSThreadTitle.react","MWPIsContextBannerDisabled.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.renderNullStateDescription,e=a.renderThreadPicture,f=a.renderThreadTitle;a=a.thread;var g=a.nullstateDescriptionText1,i=a.nullstateDescriptionText2,j=a.nullstateDescriptionText3,k=a.nullstateDescriptionType1,l=a.nullstateDescriptionType2,m=a.nullstateDescriptionType3;return d("MWPIsContextBannerDisabled.bs").isContextBannerDisabled(a)?null:h.jsxs(h.Fragment,{children:[e==null?void 0:e(a),f==null?void 0:f(h.jsx(c("LSThreadTitle.react"),{thread:a})),g!=null&&k!=null?(e=b==null?void 0:b(g,k))!=null?e:null:null,i!=null&&l!=null?b==null?void 0:b(i,l):null,j!=null&&m!=null?b==null?void 0:b(j,m):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDThreadContextBanner.react",["fbt","CometLink.react","CometPlaceholder.react","IGDAvatar.react","IGDE2EEAttributionThreadContextBanner.react","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSVerifiedBadge.react","LSMessagingThreadTypeUtil","LSVerificationBadge.bs","MWPThreadContextBanner.react","MWV2GetOtherUser.bs","MWVerticalRhythm","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","getLSContactHref","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={alignCenter:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",textAlign:"x2b8uid",$$css:!0},avatarContainer:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},horizontalPadding:{boxSizing:"x9f619",paddingStart:"xpkgp8e",paddingEnd:"xmns6w2",width:"xh8yej3",$$css:!0},learnMoreLink:{marginStart:"xsgj6o6",$$css:!0},nullStateContainer:{paddingTop:"xz9dl7a",$$css:!0},profileButtonContainer:{paddingBottom:"x1gan7if",paddingTop:"x1p5oq8j",$$css:!0}};function k(a){var b,e=a.descriptionText;a=a.threadType;a=d("LSMessagingThreadTypeUtil").isSecure(a);b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null?void 0:(b=b.setProtocol("https"))==null?void 0:b.toString();return i.jsx("div",{className:"xz9dl7a",children:i.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:[e,a?i.jsx(c("CometLink.react"),{color:"primary",href:b,target:"_blank",xstyle:j.learnMoreLink,children:h._("__JHASH__tAm34XgWzqf__JHASH__")}):null]})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.participantsAndContacts;a=a.thread;var e=a.threadType;a=d("MWV2GetOtherUser.bs").useOtherUser(a,b);b=d("LSMessagingThreadTypeUtil").isOneToOne(e);e=a!=null?c("getLSContactHref")(a[1]):void 0;return b&&e!=null?i.jsx("div",{className:"x1gan7if x1p5oq8j",children:i.jsx(c("IGDSButton.react"),{display:"block",href:e,label:h._("__JHASH__dwB6QHKUH_P__JHASH__"),variant:"secondary"})}):i.jsx(c("MWVerticalRhythm"),{height:32})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.thread;a=a.threadTitle;return i.jsx("div",{className:"x9f619 xpkgp8e xmns6w2 xh8yej3",children:i.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[i.jsx(c("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("LSVerificationBadge.bs").make,{icon:i.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),thread:b})})]})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.thread,e=b.threadKey,g=b.threadType,h=c("useReStore")();a=d("LSMessagingThreadTypeUtil").isSecure(g);var j=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(h.table("participants")).getKeyRange(e),d("ReQL").fromTableAscending(h.table("contacts")))},[h,e],f.id+":180");return i.jsxs("div",{className:"x6s0dn4 x78zum5 xdt5ytf x2b8uid",children:[i.jsx(c("MWPThreadContextBanner.react"),{renderNullStateDescription:function(a,b){return i.jsx(k,{descriptionText:a,threadType:g})},renderThreadPicture:function(a){return i.jsx("div",{className:"xyamay9 x1l90r2v",children:i.jsx(c("IGDAvatar.react"),{size:"XXL",thread:a})})},renderThreadTitle:function(a){return i.jsx(m,{thread:b,threadTitle:a})},thread:b}),j.length>0&&i.jsx(l,{participantsAndContacts:j,thread:b}),a?i.jsx(c("IGDE2EEAttributionThreadContextBanner.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessageListPageSize",["useIGDDeviceType"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("useIGDDeviceType").useIGDDeviceType();a=a.isMobile;return a?5:10}g["default"]=a}),98);
__d("IGDChatBubble.react",["MWPSolidMessageBubble.bs","PolarisLikeAnimation","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.memo;var i=b.useMemo;function j(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing,j=a.precedesXMA;a=a.showLikeAnimation;var k=i(function(){return g&&!j?{backgroundColor:"#3797F0",paddingBottom:"7px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"7px"}:{backgroundColor:"rgb(var(--ig-highlight-background))",paddingBottom:"7px",paddingLeft:"12px",paddingRight:"12px",paddingTop:"7px"}},[g,j]);return h.jsxs(d("MWPSolidMessageBubble.bs").make,{connectBottom:e,connectTop:f,outgoing:g,precedesXMA:j,style:k,children:[b,a?h.jsx(c("PolarisLikeAnimation"),{likeEventCount:1},"igd-like-animation"):null]})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.connectBottom,d=a.connectTop,e=a.outgoing;a=a.precedesXMA;c=h.jsx(j,{connectBottom:c,connectTop:d,outgoing:e,precedesXMA:a,showLikeAnimation:!1,children:b});if(a)return h.jsx("div",{role:"none",style:{width:"100%"},children:c});else return c}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("IGDMessageSendErrorStatus.react",["IGDSCircleXOutlineIcon","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x78zum5 xdt5ytf x13a6bvl x1k2j06m x1n2onr6",children:h.jsx(c("IGDSCircleXOutlineIcon"),{alt:"IGD message send error icon",color:"ig-error-or-destructive","data-testid":void 0,size:12})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageGutterItem.react",["I64","IGDMessageSendErrorStatus.react","IGDMessageSendingStatus.react","LSIntEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.message;a=a.sendStatusV2;return h.jsx("div",{className:"x78zum5 x1iyjqo2 xs83m0k x1kky2od",children:d("I64").equal(a,d("LSIntEnum").ofNumber(1))?h.jsx(c("IGDMessageSendingStatus.react"),{}):d("I64").equal(a,d("LSIntEnum").ofNumber(4))?h.jsx(c("IGDMessageSendErrorStatus.react"),{}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDForwardedContent.react",["IGDSText.react","MWPForwardedContent.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{paddingTop:"x889kno",$$css:!0},textIncoming:{paddingStart:"x1ye3gou",$$css:!0},textOutgoing:{paddingEnd:"xsyo7zv",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent.bs").useTitle(b,a);return h.jsx("div",{className:c("stylex")(i.container,a?i.textOutgoing:i.textIncoming),children:h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDHotlikeEmoji.react",["IGDSHeartPanoFilledIcon","PolarisDirectStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx(c("IGDSHeartPanoFilledIcon"),{alt:d("PolarisDirectStrings").LIKE_BUTTON_ALT_TEXT,color:"ig-badge",size:44})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("I64").compare(a.attachmentIndex,b.attachmentIndex)}g.orderByUserSelection=a}),98);
__d("IGDRepliedXMAAttachment.react",["BaseImage.react","BaseTheme.react","IGDSText.react","IGDXMAAttachmentItemPreview.react","LSMediaUrl.bs","MWPBaseXMAAttachment.bs","MWPXMAIconParser.bs","react","stylex","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j={card:{backgroundColor:"x19g9edo",$$css:!0},container:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},decorationIconOverlay:{bottom:"x1ey2m1c",end:"xds687c",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",start:"x17qophe",zIndex:"x1vjfegm",$$css:!0},header:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x13a6bvl",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",zIndex:"x1vjfegm",$$css:!0},headerImage:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",marginEnd:"x1w0mnb",marginStart:"x139jcc6",marginTop:"x9otpla",marginBottom:"x1wsgfga",objectFit:"xl1xv1r",$$css:!0},preview:{position:"x1n2onr6",$$css:!0},previewHeader:{end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0},scrim:{backgroundImage:"x1n76ky8",bottom:"x1ey2m1c",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}};b={"mwp-xma-message-bubble-max-width":"200px"};var k={dark:b,light:b,type:"VARIABLES"};e={"mwp-xma-message-bubble-max-width":"100px"};var l={dark:e,light:e,type:"VARIABLES"};function m(a){return i(function(){var b=d("MWPXMAIconParser.bs").parse(d("LSMediaUrl.bs").Attachment.headerImageUrl(a));b=(b==null?void 0:b.TAG)===1?b._0:null;var c=a.headerTitle;if(b!=null||c!=null)return{imageUrl:b,title:c}},[a])}function n(a){var b=d("LSMediaUrl.bs").Attachment.previewUrl(a);a=d("LSMediaUrl.bs").Attachment.playableUrl(a);b=b!=null||a!=null;a=function(a,b){return d("LSMediaUrl.bs").Attachment.previewUrl(a)};return{getPreviewImageUrlXMA:a,hasPreview:b}}function a(a){var b=a.attachment,d=c("useXMAPreviewIconDecorator.react")(b.previewImageDecorationType),e=m(b);a=n(b);var f=a.getPreviewImageUrlXMA,g=a.hasPreview,i=d!=null,o=e!=null&&!g;return h.jsx(c("BaseTheme.react"),{config:o?k:l,children:h.jsx(c("MWPBaseXMAAttachment.bs"),{attachment:b,connectBottom:!1,connectTop:!1,hasText:!1,renderLayout:function(a){switch(a.layoutType){case"vertical":return h.jsxs("div",{className:c("stylex")([j.container,j.card,g&&j.preview]),children:[(o||i)&&h.jsx("div",{className:c("stylex")([j.header,g&&j.previewHeader]),children:o&&h.jsxs(h.Fragment,{children:[(e==null?void 0:e.imageUrl)!=null&&h.jsx(c("BaseImage.react"),{height:20,src:e.imageUrl,width:20,xstyle:j.headerImage}),(e==null?void 0:e.title)!=null&&h.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",children:e.title})]})}),h.jsx("div",{className:"x1ey2m1c xds687c xz9dl7a xn6708d xsag5q8 x1ye3gou x10l6tqk x17qophe x1vjfegm",children:d}),g&&a.preview!=null&&h.jsxs(h.Fragment,{children:[h.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:b,attachmentItem:a.preview,getPreviewImageUrlXMA:f,size:"small"}),i&&h.jsx("div",{className:"x1n76ky8 x1ey2m1c xds687c x10l6tqk x17qophe x13vifvy"})]})]});case"centered":return"centered";case"horizontal":return"horizontal";case"expired":case"placeholder":return null}}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedAttachment.react",["I64","IGDAttachmentUtil","IGDPlaceholderMessage.react","IGDRepliedUtils","IGDRepliedXMAAttachment.react","IGDSticker.react","LSIntEnum","MWRepliesAttachment.react","MessagingAttachmentType","ReQL","ReQLSuspense","SortedAsyncIterable.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message;a=a.outgoing;var e=c("useReStore")(),g=b==null?void 0:b.replySourceId,i=b==null?void 0:b.threadKey;b=d("ReQLSuspense").useArray(function(){if(g!=null&&i!=null)return d("ReQL").fromTableAscending(e.table("attachments")).getKeyRange(i,g);else return d("SortedAsyncIterable.bs").empty()},[e,g,i],f.id+":42").sort(d("IGDRepliedUtils").orderByUserSelection);var j=b.length;if(j===0)return null;else if(j>1)return h.jsx(c("MWRepliesAttachment.react"),{outgoing:a});else{j=b[0];if(d("I64").equal(j.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA)))if(d("IGDAttachmentUtil").isUnsupportedXma(j))return h.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:!1,connectTop:!1,outgoing:a});else if(j.playableUrlMimeType==="image/gif")return h.jsx(c("IGDSticker.react"),{attachment:j});else return h.jsx(c("IGDRepliedXMAAttachment.react"),{attachment:j});else return h.jsx(c("MWRepliesAttachment.react"),{outgoing:a})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMessageBubble.react",["fbt","CometScreenReaderText.react","I64","MWPSolidMessageBubble.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={content:{color:"x5n08af",fontSize:"x1f6kntn",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",$$css:!0}};function a(a){var b=a.children,e=a.message;a=a.xstyle;var f=e.replyToUserId;return i.jsxs(d("MWPSolidMessageBubble.bs").make,{connectBottom:!1,connectTop:!1,outgoing:f!=null?d("I64").equal(e.senderId,f):!1,precedesXMA:!1,style:{backgroundColor:"rgb(var(--ig-highlight-background))"},children:[i.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__shPgdhtmHCq__JHASH__")}),i.jsx("div",{className:c("stylex")(j.content,a),children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMedia.react",["fbt","I64","IGDChatImage.react","IGDRepliedMessageBubble.react","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__ZBYp1F66CjG__JHASH__"),k={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var e=b.replyAttachmentId,g=b.replySourceId,h=b.threadKey,l=c("useReStore")(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("threads")).getKeyRange(h)},[l,h],f.id+":47"),n=d("ReQLSuspense").useFirst(function(){return g!=null&&e!=null?d("ReQL").fromTableAscending(l.table("attachments")).getKeyRange(h,g,d("I64").to_string(e)):d("ReQL").empty()},[l,h,g,e],f.id+":51");return n!=null?i.jsx(c("IGDChatImage.react"),{attachment:n,connectBottom:!1,connectTop:!1,isSecure:m!=null?d("LSMessagingThreadTypeUtil").isSecure(m.threadType):!1,maxHeight:340*.6,maxWidth:236*.6,message:b,outgoing:a}):i.jsx(c("IGDRepliedMessageBubble.react"),{message:b,xstyle:k.italic,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedPostXMAAttachment.react",["fbt","IGDRepliedMessageBubble.react","IGDRepliedUtils","IGDXMAAttachment.react","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","SortedAsyncIterable.bs","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__ZBYp1F66CjG__JHASH__"),k={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var e=c("useReStore")(),g=b.replySourceId,h=b.threadKey,l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(b.threadKey)},[e,b.threadKey],f.id+":55"),m=d("ReQLSuspense").useArray(function(){return g!=null?d("ReQL").fromTableAscending(e.table("attachments")).getKeyRange(h,g):d("SortedAsyncIterable.bs").empty()},[e,g,h],f.id+":60").sort(d("IGDRepliedUtils").orderByUserSelection),n=m.length;if(n===0)return null;else if(n>1)return i.jsx(c("MWRepliesAttachment.react"),{outgoing:a});n=m[0];return n!=null?i.jsx(c("IGDXMAAttachment.react"),{attachment:n,connectBottom:!1,connectTop:!1,getHeaderImageUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"header")},getPreviewImageUrlXMA:function(a){return d("MAWAttachmentBlob.react").getInfoUrlXMA(a,"preview")},isReply:!0,isSecure:l!=null?d("LSMessagingThreadTypeUtil").isSecure(l.threadType):!1,message:b,outgoing:a}):i.jsx(c("IGDRepliedMessageBubble.react"),{message:b,xstyle:k.italic,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedText.react",["CometTextWithEntities.react","IGDChatEmoji.react","IGDRepliedMessageBubble.react","MWChatTextTransform","MWV2MessageIsEmojiOnly.bs","cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.message;a=a.text;var f=b("cr:2472")==null?a:b("cr:2472").unvault(a);return d("MWV2MessageIsEmojiOnly.bs").make(a,!1)?h.jsx(c("IGDChatEmoji.react"),{text:a}):h.jsx(c("IGDRepliedMessageBubble.react"),{message:e,children:h.jsx(c("CometTextWithEntities.react"),{maxLength:120,text:f,transforms:d("MWChatTextTransform").epdTextTransforms,truncationStyle:"ellipsis-only",withParagraphs:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedVideo.react",["I64","IGDChatVideo.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var e=a.message;a=a.outgoing;var g=e.replyAttachmentId,i=e.replySourceId,j=e.threadKey,k=c("useReStore")(),l=d("ReQLSuspense").useFirst(function(){return i!=null&&g!=null?d("ReQL").fromTableAscending(k.table("attachments")).getKeyRange(j,i,d("I64").to_string(g)):d("ReQL").empty()},[k,g,i,j],f.id+":41");return l!=null?h.jsx(c("IGDChatVideo.react"),{attachment:l,connectTop:!1,isSecure:b,maxHeight:340*.6,maxWidth:236*.6,message:e,outgoing:!1}):h.jsx(c("MWRepliesAttachment.react"),{outgoing:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDRepliedMessage.react",["IGDMessageContainerWithHighlightBar.react","IGDRepliedAttachment.react","IGDRepliedMedia.react","IGDRepliedPostXMAAttachment.react","IGDRepliedText.react","IGDRepliedVideo.react","MWPBaseRepliedMessage.bs","MWRepliesExpired.react","MWRepliesRemoved.react","MWRepliesSticker.react","MWRepliesStory.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;return h.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!0,children:h.jsx(d("MWPBaseRepliedMessage.bs").make,{isSecureMessage:b,message:e,outgoing:a,renderAttachment:c("IGDRepliedAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderMedia:c("IGDRepliedMedia.react"),renderPost:c("IGDRepliedPostXMAAttachment.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("IGDRepliedText.react"),renderVideo:c("IGDRepliedVideo.react")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDReplySnippet.react",["IGDSText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x889kno",$$css:!0},containerIncoming:{paddingStart:"xurb0ha",$$css:!0},containerOutgoing:{paddingEnd:"x1sxyh0",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;b=b.replySnippet;if(b!=null)return h.jsx("div",{className:c("stylex")(i.container,a?i.containerOutgoing:i.containerIncoming),children:h.jsx(c("IGDSText.react").Footnote,{color:"secondaryText",children:b})});else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPHasAttachments",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(g,e)},[b,e,g],f.id+":23");return a!=null}g["default"]=a}),98);
__d("IGDMessageRow.react",["fbt","CometErrorBoundary.react","CometPressable.react","I64","IGDAttachmentOpen.react","IGDAttachmentSecure.react","IGDChatBubble.react","IGDChatEmoji.react","IGDEqualityUtils","IGDForwardedContent.react","IGDHotlikeEmoji.react","IGDMessageGutterItem.react","IGDMessageListText.react","IGDMessageRowFooter.react","IGDRepliedMessage.react","IGDReplySnippet.react","IGDSText.react","IGDXMAAttachmentUtil","JSResourceForInteraction","LSBitFlag","LSHotEmojiSize","LSIntEnum","MWCMThreadTypes.react","MWLSThread","MWMessageDeliveryStatus","MWPActor.react","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPContactContext.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.bs","MWPMessageLoggingWrapper.bs","MWPMessageParsingUtils.bs","MWPMessageS2SLoggingWrapper","MWV2ChatAdminMessage.react","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.bs","MWV2ReplyError.bs","PolarisDoubleTappable","deepEquals","lazyLoadComponent","qex","react","stylex","useCometUniqueID","useMWPHasAttachments"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.memo,k=e.useMemo,l=e.useState,m={alignEnd:{alignItems:"xuk3077",$$css:!0},repliedMessage:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},n=d("LSBitFlag").set(d("LSIntEnum").ofNumber(1),d("LSBitFlag").set(d("LSIntEnum").ofNumber(8),d("LSBitFlag").empty)),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDMessageRowActions.react").__setRef("IGDMessageRow.react"));function p(a){var b=a.isGroupThread,e=a.isLastMessageInGroup;a=a.message;var f=d("MWPContactContext.react").useMWPContactStableContext();f=f.contact;f=f===void 0?{secondaryName:void 0}:f;f=f.secondaryName;var g=f!=null?{url:"/"+f}:void 0;f=h._("__JHASH__q99c5lFvU7E__JHASH__",[h._param("name",f)]);return i.jsx(c("CometPressable.react"),{"aria-label":f,linkProps:g,overlayDisabled:!0,children:i.jsx(c("MWV2MessageProfilePhoto.react"),{isGroupThread:b,isLastMessageInGroup:e,message:a})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.attachmentType,e=a.domElementRef,f=a.formatText,g=a.isGroupThread,h=a.isModal,j=a.isSecureMessage,q=a.isXMAExpired,r=a.message,s=a.nextMessage,t=a.onDoubleClickToLike,u=a.prevMessage,v=a.reactions,w=a.reactionsV2;a=a.stopHoveringRef;var x=d("MWPActor.react").useActor(),y=d("MWPMessageParsingUtils.bs").isStartOfGroup(r,u),z=d("MWPMessageParsingUtils.bs").isEndOfGroup(r,s),A=d("I64").equal(r.senderId,x);x=l(!1);var B=x[0];x=x[1];var C=l(!1),D=C[0];C=C[1];var E=c("useCometUniqueID")(),F=l(!1),G=F[0],H=F[1];F=l(!1);var I=F[0],J=F[1];F=l(!1);var K=F[0];F=F[1];var L=w!=null?w.length>0:v.length>0,M=!A;M=M&&g;var N=r.replyToUserId!=null,O=k(function(){return{dark:{"mwp-message-list-profile-start-padding":"16px"},light:{"mwp-message-list-profile-start-padding":"16px"},type:"VARIABLES"}},[]),P=j?function(a,d,e,f,g,h,j,k){return i.jsx(c("IGDAttachmentSecure.react"),{attachmentType:b,connectBottom:g,connectTop:f,formatText:k,hasText:j,message:a,nextMessage:d,outgoing:h,prevMessage:e})}:function(a,b,d,e,f,g,h,j){return i.jsx(c("IGDAttachmentOpen.react"),{connectBottom:f,connectTop:e,formatText:j,hasText:h,message:a,nextMessage:b,outgoing:g,prevMessage:d})},Q=d("I64").equal(r.displayedContentTypes,n),R=c("useMWPHasAttachments")(r),S=d("MWLSThread").useThread(r.threadKey,function(a){return a.threadSubtype});S=S!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(S);if(r.isUnsent)return null;return r.isAdminMessage?r.adminMsgCtaType==="admin_msg_e2ee_thread"?null:i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[i.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:r,nextMessage:s,prevMessage:u}),R&&S&&c("qex")._("400")===!0?P(r,void 0,void 0,!1,!1,A,!1,!1):null]})}):i.jsxs(i.Fragment,{children:[i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBeforeContent,{message:r,prevMessage:u,children:function(){return i.jsx(d("MWV2MessageStartOfGroupContent.bs").make,{domElementRef:e,message:r,prevMessage:u})}}),i.jsxs(d("MWPMessageListRowWithKeyboardInteractions.bs").make,{domElementRef:y?void 0:e,isDialogOpened:K||G||I,isFocused:B,isModal:h,message:r,messageDomID:E,nextMessage:s,outgoing:A,prevMessage:u,setFocused:x,setHovered:C,setIsDialogOpened:F,stopHoveringRef:a,theme:O,children:[i.jsx(c("MWPBaseMessageRowHeader.react"),{isFirstMessageInGroup:y,isGroupThread:g,message:r,outgoing:A,renderForwardSnippet:function(a,b){return i.jsx(c("IGDForwardedContent.react"),{message:a,outgoing:b})},renderPinnedText:function(a,b){return null},renderReplySnippet:function(a,b){return q?null:i.jsx(c("IGDReplySnippet.react"),{message:a,outgoing:b})},renderTextWrapper:function(a){return i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a})},renderTimestamp:void 0}),y&&!M||N?i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10}):null,N?i.jsx("div",{className:c("stylex")(m.repliedMessage,A?m.alignEnd:!1),role:"none",children:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(d("MWV2ReplyError.bs").make,{outgoing:A})},children:i.jsx(c("IGDRepliedMessage.react"),{isSecureMessage:j,message:r,outgoing:A})})})}):null,i.jsx(c("MWPMessageS2SLoggingWrapper"),{messageId:r.messageId,optimisticMessageId:r.offlineThreadingId,statusType:d("MWMessageDeliveryStatus").getFromSendStatus(r.sendStatusV2).type,children:i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:L,message:r,outgoing:A,renderGutterItem:function(){return i.jsx(c("IGDMessageGutterItem.react"),{message:r})},renderMessageActions:function(){return i.jsx(o,{ariaHidden:h===!1,focused:B||G||K||I||h,hasReactions:L,hovered:D,message:r,outgoing:A,setReportDialogOpen:J,setUnsendDialogOpen:H})},renderProfile:function(){return i.jsx(p,{isGroupThread:g,isLastMessageInGroup:z,message:r})},children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return i.jsx(c("MWV2ChatErrorBubble.react"),{isReply:N})},children:i.jsx(d("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:t,role:"button",children:i.jsx(c("MWPBaseMessage.react"),{attachmentRenderPosition:Q?"above":"below",checkEmoticon:!1,isFirstMessageInGroup:y,isLastMessageInGroup:z,message:r,nextMessage:s,outgoing:A,prevMessage:u,reactions:v,renderAttachment:function(a,b,c){return P(r,s,u,a,b,A,c,f)},renderEmoji:function(a){var b=a.hotEmojiSize;if(j){if(a.replySnippet!=="You reacted to their story"&&a.replySnippet!=="Reacted to your story")return i.jsx(c("IGDChatEmoji.react"),{text:a.text})}else return b!=null&&d("I64").gt(b,d("LSIntEnum").ofNumber(c("LSHotEmojiSize").NONE))?i.jsx(c("IGDHotlikeEmoji.react"),{}):i.jsx(c("IGDChatEmoji.react"),{text:a.text})},renderMessageBubble:function(a,b,d,e,f){return i.jsx(c("IGDChatBubble.react"),{connectBottom:d,connectTop:b,isSecure:j,message:a,outgoing:f,precedesXMA:e,children:i.jsx(c("IGDMessageListText.react"),{isSecureMessage:j,message:a,outgoing:f,precedesXMA:e})})},renderMessageContainer:function(a,b){return i.jsx(d("MWPMessageLoggingWrapper.bs").make,{messageId:r.messageId,optimisticMessageId:r.offlineThreadingId,xstyle:b,children:a})},renderMessageFooter:function(){return i.jsx(c("IGDMessageRowFooter.react"),{hasReactions:L,isGroupThread:g,message:r,outgoing:A,reactions:v,reactionsV2:w,resetReactionTranslateStyle:q&&!Q})},shouldRenderMessageContent:q||!(Q&&d("IGDXMAAttachmentUtil").isEmojiReaction(r.text))})})})})}),z?i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";var q=["message","nextMessage","prevMessage","reactions","reactionsV2","attachmentType"];function b(a,b){return d("IGDEqualityUtils").shallowEqual(a,b,function(a,b,d){return q.includes(d)?c("deepEquals")(a,b):a===b})}e=j(a,b);g["default"]=e}),98);
__d("IGDXMAUtils",["I64","LSIntEnum","MNLSXMALayoutType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a!=null&&a.xmaLayoutType!=null?d("I64").equal(a.xmaLayoutType,d("LSIntEnum").ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1}g.checkIsXMAExpired=a}),98);
__d("useForwardedRef",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=i(null),c=h(function(c){typeof a==="function"?a(c):a&&(a.current=c),b.current=c},[a]);return[b,c]}g["default"]=a}),98);
__d("useHandleDoubleClickToLike",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWPSendOrRemoveReaction.react","MWChatReactionsUtils.bs","MWPActor.react","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function i(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e!=null&&f!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(f)){f=(yield d("ReQL").firstAsync(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e).filter(function(a){return!d("I64").equal(a.contactId,b)}),d("ReQL").fromTableAscending(a.table("contacts"))).map(function(a){a[0];a=a[1];return a})));if(f!=null)return!d("I64").equal(f.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}return!1});return j.apply(this,arguments)}function a(a,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor(),j=a.threadKey,k=a.messageId,l=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(a,e,"message_double_click");return h(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.table("threads")).getKeyRange(j)));if(!a)return;var b=(yield i(f,g,j,a.threadType));a=!d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(18),a)||b;if(a)return;l(k,d("MWChatReactionsUtils.bs").heartType1,"like")})())},[f,g,j,l,k])}g["default"]=a}),98);
__d("useMessageAttachment",["MWPMessageHasAttachment.bs","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")(),e=d("MWPMessageHasAttachment.bs").make(a);return d("ReQLSuspense").useFirst(function(){return e?d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a.threadKey,a.messageId,e],f.id+":25")}g["default"]=a}),98);
__d("IGDMessageList.react",["FBLogger","I64","IGDEqualityUtils","IGDMessageRow.react","IGDMessageSeenStatus.react","IGDXMAUtils","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWGating","MAWThreadCutover.bs","MWInboxThreadMessagesSpinner.react","MWPAriaLabelForMessageListGrid.bs","MWPBaseMessageList.react","MWPMessageListFocusTable.bs","MWPMessageReactions.react","MWV2MessageActionsVisibility.bs","cr:2956","cr:6602","polarisDebounce","react","shallowEqual","useForwardedRef","useHandleDoubleClickToLike","useIGDDeviceType","useMessageAttachment","useStableCallback","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.forwardRef,j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState,n={container:{paddingStart:"xohu8s8",$$css:!0},messageBubble:{backgroundColor:"x19g9edo",$$css:!0}},o={bottom:500,top:500},p={bottom:100,top:100};function q(a){var e=a.domElementRef,f=a.formatText,g=a.message,i=a.modal,j=a.nextMessage,k=a.onGetScrollAreaElement,l=a.prevMessage,m=a.stopHoveringRef;a=a.thread;var n=d("useIGDDeviceType").useIGDDeviceType();n=n.isMobile;var q=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),r=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);q=q?d("I64").equal(a.threadKey,g.threadKey):!1;var s=c("useStableCallback")(c("useHandleDoubleClickToLike")(g,q)),t=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(139),a),u=d("MWPMessageReactions.react").useNonZeroCountReactionsV2(g),v=d("MWPMessageReactions.react").useReactions(g),w=c("useMessageAttachment")(g),x=d("IGDXMAUtils").checkIsXMAExpired(w);w=h.jsxs(h.Fragment,{children:[h.jsx(c("IGDMessageRow.react"),{attachmentType:w==null?void 0:w.attachmentType,domElementRef:e,formatText:f,isGroupThread:r,isModal:i===g.messageId,isSecureMessage:q,isXMAExpired:x,message:g,nextMessage:j,onDoubleClickToLike:s,prevMessage:l,reactions:v,reactionsV2:t?u:void 0,stopHoveringRef:m}),j!=null?null:h.jsx(c("IGDMessageSeenStatus.react"),{message:g,thread:a})]});return b("cr:2956")==null?w:h.jsx(b("cr:2956"),{root:k,rootMargin:n?p:o,children:w})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b,e,f,g){var i=l(new WeakMap()),k=d("useStableValue").useStableValue({capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},d("IGDEqualityUtils").shallowEqualI64);return j(function(a){var d=i.current.get(a.message),j=babelHelpers["extends"]({},a,{formatText:f,modal:b,onGetScrollAreaElement:g,stopHoveringRef:e,thread:k});if(!d||!c("shallowEqual")(j,d.props)){d=h.jsx(q,babelHelpers["extends"]({},j));i.current.set(a.message,{props:j,row:d})}j=i.current.get(a.message);if(!j)throw c("FBLogger")("ig_web").mustfixThrow("memoizedRow is null/undefined. This should never happen.");return j.row},[f,b,g,e,k])}function s(a){a=a.scrollTop;return a>100}function a(a,e){var f=a.formatText;f=f===void 0?!1:f;var g=a.pageSize,i=a.renderHeader,l=a.thread;a=c("useForwardedRef")(e);var o=a[0];e=a[1];a=d("MAWGating").isThreadLevelCutoverEnabled();var p=d("MAWThreadCutover.bs").useIsCutoverSecureThread(l.threadKey),q=d("MAWThreadCutover.bs").useCutoverOpenThread(l.threadKey),t=d("useIGDDeviceType").useIGDDeviceType(),u=t.isMobile;t=m(!1);var v=t[0],w=t[1];k(function(){function a(){w(document.activeElement!=null)}var b=c("polarisDebounce")(a,1e3);u&&window.addEventListener("resize",b);return function(){u&&window.removeEventListener("resize",b)}},[u,v]);t=d("LSMessagingThreadTypeUtil").isSecure(l.threadType);var x=d("LSMessagingThreadTypeUtil").isGroup(l.threadType),y=d("MWPAriaLabelForMessageListGrid.bs").useHook(l),z=d("MWV2MessageActionsVisibility.bs").useStopHoveringRef(),A=t?!x:!0;t=m("");x=t[0];t=t[1];var B=j(function(){var a;return(a=o.current)==null?void 0:a.getScrollAreaElement()},[o]);z=r(l,x,z,f,B);f=d("Int64Hooks").useCallbackInt64(function(){return A&&b("cr:6602")!=null?h.jsx(b("cr:6602").MWPTypingIndicators,{checkPresenceSettings:!0,containerStyle:n.container,messageBubbleStyle:n.messageBubble,threadKey:l.threadKey,threadType:l.threadType}):null},[A,l.threadKey,l.threadType]);return a&&p&&q==null?h.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):h.jsx(d("MWPMessageListFocusTable.bs").make,{ariaLabel:y,modal:x,setModal:t,children:h.jsx(c("MWPBaseMessageList.react"),{isSufficientContentLoadedAbove:s,onUserScroll:function(){if(u&&v){var a;(a=document.activeElement)==null?void 0:a.blur()}},pageSize:g,ref:e,renderFooter:f,renderHeader:i,renderLoadingAnimation:function(){return h.jsx(c("MWInboxThreadMessagesSpinner.react"),{delayMs:200})},renderRow:z,secondaryThread:q,thread:l})})}a.displayName=a.name+" [from "+f.id+"]";e=i(a);g["default"]=e}),98);